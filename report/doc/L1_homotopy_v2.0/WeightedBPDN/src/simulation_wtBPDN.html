<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of simulation_wtBPDN</title>
  <meta name="keywords" content="simulation_wtBPDN">
  <meta name="description" content="Comparison of various re-weighted schemes">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../menu.html L1_homotopy_v2.0 --><!-- ../menu.html WeightedBPDN --><!-- menu.html src -->
<h1>simulation_wtBPDN
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>Comparison of various re-weighted schemes</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Comparison of various re-weighted schemes

 Solves the following basis pursuit denoising (BPDN) problem
 min_x  \Sum \w_i |x_i| + 1/2*||y-Ax||_2^2

 and dynamically update the weights w_i

 Written by: Salman Asif, Georgia Tech
 Email: sasif@ece.gatech.edu
 Created: April 16, 2011</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% Comparison of various re-weighted schemes</span>
0002 <span class="comment">%</span>
0003 <span class="comment">% Solves the following basis pursuit denoising (BPDN) problem</span>
0004 <span class="comment">% min_x  \Sum \w_i |x_i| + 1/2*||y-Ax||_2^2</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% and dynamically update the weights w_i</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% Written by: Salman Asif, Georgia Tech</span>
0009 <span class="comment">% Email: sasif@ece.gatech.edu</span>
0010 <span class="comment">% Created: April 16, 2011</span>
0011 
0012 clear
0013 close all
0014 
0015 <span class="comment">%% parfor setup</span>
0016 <span class="comment">% numCores = str2double(getenv('NUMBER_OF_PROCESSORS'));</span>
0017 <span class="comment">% mpSize = numCores-1;</span>
0018 <span class="comment">% if matlabpool('size') ~= mpSize</span>
0019 <span class="comment">%     if matlabpool('size')~=0</span>
0020 <span class="comment">%         matlabpool close;</span>
0021 <span class="comment">%     else</span>
0022 <span class="comment">%         matlabpool('open', mpSize);</span>
0023 <span class="comment">%     end</span>
0024 <span class="comment">% end</span>
0025 
0026 <span class="comment">%% Setup path</span>
0027 mname = mfilename;
0028 mpath = mfilename(<span class="string">'fullpath'</span>);
0029 mdir = mpath(1:end-length(mname));
0030 cd(mdir);
0031 
0032 addpath ../Pursuits_Homotopy/
0033 addpath ../utils/
0034 addpath ../utils/qr/
0035 addpath ../utils/utils_Wavelet
0036 addpath(genpath(<span class="string">'C:\Users\asif\MATLAB\Sparsity_solvers'</span>));
0037 
0038 <span class="comment">% load RandomStates</span>
0039 rseed = sum(100*clock);
0040 rseed = 0;
0041 <span class="comment">% rand('state',rseed);</span>
0042 <span class="comment">% randn('state',rseed);</span>
0043 RandStream.setDefaultStream(RandStream(<span class="string">'mt19937ar'</span>,<span class="string">'seed'</span>,rseed));
0044 
0045 <span class="comment">%% Sim parameters</span>
0046 disp([<span class="string">'--------------------'</span>,datestr(now),<span class="string">'-------------------------'</span>])
0047 
0048 <span class="comment">% reweighted setup</span>
0049 rwt = 5; <span class="comment">% number of iterative reweighted iterations</span>
0050 rwt_adp = 2; <span class="comment">% number of adaptive reweighted iterations</span>
0051 
0052 <span class="comment">% rank-1 update mode</span>
0053 delx_mode = <span class="string">'mil'</span>; <span class="comment">% mil or qr</span>
0054 
0055 <span class="comment">% simulation setup</span>
0056 maxsim = 200;
0057 
0058 N_list = [256 512 1024 2048];
0059 M_ratio = [2:5];
0060 T_ratio = [3:5];
0061 sType_list = {<span class="string">'randn'</span>,<span class="string">'sign'</span>}; <span class="comment">% 'blocks','pcwPoly', 'HeaviSine'</span>
0062 mType_list = {<span class="string">'randn'</span>,<span class="string">'orth'</span>};
0063 SNR_list = 30; <span class="comment">% [20:10:40 1e16];</span>
0064 rwt_list = 2; <span class="comment">% [1 2 3 4];</span>
0065 lambda_list = 0; <span class="comment">% [0, 1e-1, 1e-2, 1e-4]; % multiplication factor for tau = lambda *\|A'y\|_\infty</span>
0066 
0067 EXP_stack = {};
0068 estack = 1;
0069 EXP_stack{1,1} = <span class="string">'mType'</span>;
0070 EXP_stack{1,2} = <span class="string">'sType'</span>;
0071 EXP_stack{1,3} = <span class="string">'SNR'</span>;
0072 EXP_stack{1,4} = <span class="string">'rwt_mode'</span>;
0073 EXP_stack{1,5} = <span class="string">'lambda_mode'</span>;
0074 EXP_stack{1,6} = <span class="string">'N'</span>;
0075 EXP_stack{1,7} = <span class="string">'M'</span>;
0076 EXP_stack{1,8} = <span class="string">'T'</span>;
0077 EXP_stack{1,9} = <span class="string">'str0'</span>;
0078 EXP_stack{1,10} = <span class="string">'str2'</span>;
0079 EXP_stack{1,11} = <span class="string">'avg SIM_stack'</span>;
0080 EXP_stack{1,12} = <span class="string">'SIM_stack'</span>;
0081 EXP_stack{1,13} = <span class="string">'SIM_memory'</span>;
0082 
0083 <span class="keyword">for</span> mT = 1:length(mType_list);
0084     <span class="keyword">for</span> sT = 1:length(sType_list);
0085         <span class="keyword">for</span> snr = 1:length(SNR_list);
0086             <span class="keyword">for</span> rwt_mode = rwt_list
0087                 <span class="keyword">for</span> lam = 1:length(lambda_list)
0088                     <span class="keyword">for</span> nl = 1:length(N_list)
0089                         <span class="keyword">for</span> mr = 1:length(M_ratio)
0090                             <span class="keyword">for</span> tr = 1:length(T_ratio)
0091                                 
0092                                 N = N_list(nl);     <span class="comment">% signal length</span>
0093                                 M = round(N/M_ratio(mr));   <span class="comment">% no. of measurements</span>
0094                                 T = round(M/T_ratio(tr));   <span class="comment">% sparsity level</span>
0095                                 
0096                                 sType = char(sType_list{sT});
0097                                 mType = char(mType_list{mT});
0098                                 SNR = SNR_list(snr);
0099                                 
0100                                 lambda = lambda_list(lam);
0101                                 
0102                                 str0 = sprintf(<span class="string">'mType-%s, sType-%s, SNR = %d, (N,M,T) = %d, %d, %d, rwt_mode-%d, lambda%3.4g.'</span>, mType, sType, SNR, N, M, T, rwt_mode, lambda);
0103                                 disp(str0);
0104                                 
0105                                 <span class="comment">%% Run simulation</span>
0106                                 script_simulation_wtBPDN_ALL;
0107                                 
0108                                 <span class="comment">%                         %% Plot results...</span>
0109                                 <span class="comment">%                         EXP = {'adp','rwt','yall1','sparsa','spgl1'};</span>
0110                                 <span class="comment">%                         exp_plot = [1 2 3 4 5];</span>
0111                                 <span class="comment">%                         figure(101);</span>
0112                                 <span class="comment">%                         for exp_no = 1:length(exp_plot)</span>
0113                                 <span class="comment">%                             exp = exp_plot(exp_no);</span>
0114                                 <span class="comment">%                             sim_err = [];</span>
0115                                 <span class="comment">%                             sim_itr = [];</span>
0116                                 <span class="comment">%                             for ii = 1:maxsim</span>
0117                                 <span class="comment">%                                 sim_err = [sim_err; [SIM_memory{ii}{exp,3}]];</span>
0118                                 <span class="comment">%                                 sim_itr = [sim_itr; [SIM_memory{ii}{exp,2}]];</span>
0119                                 <span class="comment">%                             end</span>
0120                                 <span class="comment">%                             eval(sprintf('err_%s = sim_err;',char(EXP{exp})));</span>
0121                                 <span class="comment">%                             eval(sprintf('iter_%s = sim_itr;',char(EXP{exp})));</span>
0122                                 <span class="comment">%                             subplot(2,length(exp_plot),exp_no); plot(sim_err); title(sprintf('rel. err for %s',char(EXP{exp})));</span>
0123                                 <span class="comment">%                             subplot(2,length(exp_plot),length(exp_plot)+exp_no); plot(sim_itr); title(sprintf('iter count for %s',char(EXP{exp})));</span>
0124                                 <span class="comment">%                         end</span>
0125                                 
0126                                 
0127                                 estack = estack+1;
0128                                 
0129                                 EXP_stack{estack,1} = mType;
0130                                 EXP_stack{estack,2} = sType;
0131                                 EXP_stack{estack,3} = SNR;
0132                                 EXP_stack{estack,4} = rwt_mode;
0133                                 EXP_stack{estack,5} = lambda;
0134                                 EXP_stack{estack,6} = N;
0135                                 EXP_stack{estack,7} = M;
0136                                 EXP_stack{estack,8} = T;
0137                                 EXP_stack{estack,9} = str0;
0138                                 EXP_stack{estack,10} = str2;
0139                                 EXP_stack{estack,11} = mean(cell2mat(SIM_stack),1);
0140                                 EXP_stack{estack,12} = SIM_stack;
0141                                 EXP_stack{estack,13} = SIM_memory;
0142                                 
0143                                 <span class="comment">% eval(sprintf('save Results_%s',mfilename));</span>
0144                             <span class="keyword">end</span>
0145                         <span class="keyword">end</span>
0146                     <span class="keyword">end</span>
0147                 <span class="keyword">end</span>
0148             <span class="keyword">end</span>
0149         <span class="keyword">end</span>
0150     <span class="keyword">end</span>
0151 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Sun 09-Jun-2013 02:08:02 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>